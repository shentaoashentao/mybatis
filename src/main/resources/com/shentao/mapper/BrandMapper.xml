<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.shentao.mapper.BrandMapper">

    <!--  若遇到定义的pojo与数据库内的字段名称不一样时
    column="brand_name" property="brandName"
    column代表要改成的值    property代表pojo定义的值
    -->

    <resultMap id="brandResultMap" type="com.shentao.pojo.Brand">
        <result column="brand_name" property="brandName"/>
        <result column="company_name" property="companyName"/>
    </resultMap>


    <select id="selectAll" resultMap="brandResultMap">
        select * from tb_brand;
    </select>

    <select id="selectById" resultMap="brandResultMap">
        select * from tb_brand where id = #{id};
    </select>

    <!--条件查询-->
   <!-- <select id="selectByCondition" resultMap="brandResultMap">
        select *
        from tb_brand
        where status = #{status}
            and company_name like #{companyName}
            and brand_name like #{brandName};
    </select>-->
    <!--动态sql条件查询   采用if标签 test中表示 逻辑表达式-->
    <select id="selectByCondition" resultMap="brandResultMap">
        select *
        from tb_brand
       <where>        <!--  1=1  使得每句都加and符合逻辑   都没有and的情况下：1.第一第二两条进行查询时 缺少and 2.没有第一条时  第二条有多出and -->
              <if test="status != null">
                  and status = #{status}
              </if>
          <if test="companyName != null and companyName != ''">
                  and  company_name like #{companyName}
          </if>
        <if test="brandName != null and brandName != ''">
           and  brand_name like #{brandName}
        </if>
        </where>
    </select>

</mapper>